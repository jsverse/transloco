"use strict";(self.webpackChunktransloco_docs=self.webpackChunktransloco_docs||[]).push([[1011],{2723:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>o,toc:()=>c});var i=t(2540),s=t(3023);const a={title:"FAQ",description:"FAQ | Transloco Angular i18n"},r=void 0,o={id:"faq",title:"FAQ",description:"FAQ | Transloco Angular i18n",source:"@site/docs/faq.mdx",sourceDirName:".",slug:"/faq",permalink:"/transloco/docs/faq",draft:!1,unlisted:!1,editUrl:"https://github.com/jsverse/transloco/edit/master/docs/docs/faq.mdx",tags:[],version:"current",frontMatter:{title:"FAQ",description:"FAQ | Transloco Angular i18n"},sidebar:"docs",previous:{title:"Blog Posts",permalink:"/transloco/docs/blog-posts"},next:{title:"Validator",permalink:"/transloco/docs/tools/validator"}},l={},c=[{value:"I&#39;m calling the <code>translate</code> function inside <code>ngOnInit</code> but it says the translation is missing and when I use the structural directive it works fine, why?",id:"im-calling-the-translate-function-inside-ngoninit-but-it-says-the-translation-is-missing-and-when-i-use-the-structural-directive-it-works-fine-why",level:3},{value:"Is it possible to use an Angular component inside my translation string?",id:"is-it-possible-to-use-an-angular-component-inside-my-translation-string",level:3},{value:"<code>getBrowserLang</code> in SSR?",id:"getbrowserlang-in-ssr",level:3},{value:"Can I use HTML markings inside a translation?",id:"can-i-use-html-markings-inside-a-translation",level:3},{value:"I want to use the structural directive in my app, but isn&#39;t calling a function from the template a bad practice?",id:"i-want-to-use-the-structural-directive-in-my-app-but-isnt-calling-a-function-from-the-template-a-bad-practice",level:3},{value:"Why values don&#39;t get translated when using the <code>translate</code> in unit tests?",id:"why-values-dont-get-translated-when-using-the-translate-in-unit-tests",level:3},{value:"Why does querying an element inside the <code>*transloco</code> directive using <code>@ViewChild()</code> not working?",id:"why-does-querying-an-element-inside-the-transloco-directive-using-viewchild-not-working",level:3}];function d(e){const n={code:"code",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"A collection of common questions and their answers."}),"\n",(0,i.jsxs)(n.h3,{id:"im-calling-the-translate-function-inside-ngoninit-but-it-says-the-translation-is-missing-and-when-i-use-the-structural-directive-it-works-fine-why",children:["I'm calling the ",(0,i.jsx)(n.code,{children:"translate"})," function inside ",(0,i.jsx)(n.code,{children:"ngOnInit"})," but it says the translation is missing and when I use the structural directive it works fine, why?"]}),"\n",(0,i.jsxs)(n.p,{children:["Loading the translations is an asynchronous task while ",(0,i.jsx)(n.code,{children:"translate"})," is a synchronous function.\nYou have 2 options:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Subscribe to the transloco service events and use ",(0,i.jsx)(n.code,{children:"translate"})," inside the subscription."]}),"\n",(0,i.jsxs)(n.li,{children:["Use ",(0,i.jsx)(n.code,{children:"selectTranslate"})," instead."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The structural directive is waiting for the translation to load on its own, that's why it's working in the template."}),"\n",(0,i.jsx)(n.h3,{id:"is-it-possible-to-use-an-angular-component-inside-my-translation-string",children:"Is it possible to use an Angular component inside my translation string?"}),"\n",(0,i.jsx)(n.p,{children:"You can't do it using while AOT compilation, but there are 2 alternatives:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Transform your component into a web component using ",(0,i.jsx)(n.code,{children:"@angular/elements"})," and use the HTML tag in your translation."]}),"\n",(0,i.jsx)(n.li,{children:"Separate your translation into 2 parts and insert the desired component between."}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"getbrowserlang-in-ssr",children:[(0,i.jsx)(n.code,{children:"getBrowserLang"})," in SSR?"]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"getBrowserLang"})," function will only returns a value when executed in browser context, if you are using SSR you should add a desired default value:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"const defaultLang = getBrowserLang() || 'en';\n"})}),"\n",(0,i.jsx)(n.h3,{id:"can-i-use-html-markings-inside-a-translation",children:"Can I use HTML markings inside a translation?"}),"\n",(0,i.jsxs)(n.p,{children:["Yes, you can! Pass the translated string in an ",(0,i.jsx)(n.code,{children:"innerHTML"})," binding."]}),"\n",(0,i.jsx)(n.h3,{id:"i-want-to-use-the-structural-directive-in-my-app-but-isnt-calling-a-function-from-the-template-a-bad-practice",children:"I want to use the structural directive in my app, but isn't calling a function from the template a bad practice?"}),"\n",(0,i.jsx)(n.p,{children:"Using a structural directive is the recommended approach. It\u2019s DRY and efficient, as it creates one subscription per template."}),"\n",(0,i.jsxs)(n.p,{children:["Moreover, the t function is ",(0,i.jsx)(n.code,{children:"memoized"}),", It means that given the same key, it will return the result directly from the cache."]}),"\n",(0,i.jsx)(n.p,{children:"Furthermore, when using on push change detection strategy (which is recommended) the change detection cycles should greatly reduce."}),"\n",(0,i.jsxs)(n.h3,{id:"why-values-dont-get-translated-when-using-the-translate-in-unit-tests",children:["Why values don't get translated when using the ",(0,i.jsx)(n.code,{children:"translate"})," in unit tests?"]}),"\n",(0,i.jsx)(n.p,{children:"As stated beneath the function, even in tests, it's you responsibility to make sure the translation are loaded\nbefore calling it."}),"\n",(0,i.jsxs)(n.p,{children:["You can make sure you translations are loaded before your test executes by simply setting the ",(0,i.jsx)(n.code,{children:"preloadLangs"})," to ",(0,i.jsx)(n.code,{children:"true"})," in the options passed to\n",(0,i.jsx)(n.code,{children:"TranslocoTestingModule.forRoot"}),"."]}),"\n",(0,i.jsxs)(n.h3,{id:"why-does-querying-an-element-inside-the-transloco-directive-using-viewchild-not-working",children:["Why does querying an element inside the ",(0,i.jsx)(n.code,{children:"*transloco"})," directive using ",(0,i.jsx)(n.code,{children:"@ViewChild()"})," not working?"]}),"\n",(0,i.jsx)(n.p,{children:"The transloco structural directive has an async operation in its internals which is fetching the translations."}),"\n",(0,i.jsxs)(n.p,{children:["Because of that, the contents of the directive won't be available until the translations are fetched, so you can't access\nthe element in the ",(0,i.jsx)(n.code,{children:"ngOnInit"})," nor the ",(0,i.jsx)(n.code,{children:"ngAfterViewInit"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["The simplest way you can gain access to the element on render is by making the ",(0,i.jsx)(n.code,{children:"ViewChild"})," a setter."]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},3023:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>o});var i=t(3696);const s={},a=i.createContext(s);function r(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);