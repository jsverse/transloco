"use strict";(self.webpackChunktransloco_docs=self.webpackChunktransloco_docs||[]).push([[4967],{232:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>c});var i=t(2540),a=t(3023);const r={title:"Angular",description:"Angular Migration | Transloco Angular i18n"},l=void 0,s={id:"migration/angular",title:"Angular",description:"Angular Migration | Transloco Angular i18n",source:"@site/docs/migration/angular.mdx",sourceDirName:"migration",slug:"/migration/angular",permalink:"/transloco/docs/migration/angular",draft:!1,unlisted:!1,editUrl:"https://github.com/jsverse/transloco/edit/master/docs/docs/migration/angular.mdx",tags:[],version:"current",frontMatter:{title:"Angular",description:"Angular Migration | Transloco Angular i18n"},sidebar:"docs",previous:{title:"ngx-translate",permalink:"/transloco/docs/migration/ngx"},next:{title:"Prefetch the User Language",permalink:"/transloco/docs/recipes/prefetch"}},o={},c=[{value:"Command",id:"command",level:3},{value:"The Translation file",id:"the-translation-file",level:3},{value:"Directives",id:"directives",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h3:"h3",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:"some manual changes might still be needed after the script ran."})}),"\n",(0,i.jsx)(n.p,{children:"The script will iterate over all your HTML files, build a translation file and will execute the replacements described below."}),"\n",(0,i.jsx)(n.h3,{id:"command",children:"Command"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"ng g @jsverse/transloco:migrate"})}),"\n",(0,i.jsx)(n.h3,{id:"the-translation-file",children:"The Translation file"}),"\n",(0,i.jsxs)(n.p,{children:["The script will extract all the translations from the HTML files and will construct a translations JSON file.\nThe script will use the translation string as the key by making the entire string kebab case (",(0,i.jsx)(n.code,{children:"My sample string"})," => ",(0,i.jsx)(n.code,{children:"my-sample-string"}),") example for the output JSON:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",metastring:'title="en.json"',children:'{\n  "my-sample-string": "My sample string",\n  "my-title": "My title"\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Here is an example of an ",(0,i.jsx)(n.code,{children:"HTML"})," section and the matching ",(0,i.jsx)(n.code,{children:"JSON"})," output:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<h1 i18n>translation value</h1>\n<h1 i18n="site header|value 1 sample">Val1</h1>\n<h1 i18n="site header|value 2 sample">Val2</h1>\n<h1 i18n="other context|another comment@@myId">Val3</h1>\n'})}),"\n",(0,i.jsx)(n.p,{children:"Will output:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",metastring:'title="en.json"',children:'{\n  "translation-value": "translation value",\n  "site header": {\n    "val1": "Val1",\n    "val1.comment": "value 1 sample",\n    "val2": "Val2",\n    "val2.comment": "value 2 sample"\n  },\n  "other context": {\n    "myId": "Val3",\n    "myId.comment": "another comment"\n  }\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Note: the ",(0,i.jsx)(n.code,{children:".comment"})," is the way we support ",(0,i.jsx)(n.a,{href:"../tools/comments",children:"comments"})," in Transloco."]}),"\n",(0,i.jsx)(n.h3,{id:"directives",children:"Directives"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"i18n"})," & ",(0,i.jsx)(n.code,{children:"i18n-<attribute>"})," directives will be replaced with the ",(0,i.jsx)(n.code,{children:"transloco"})," pipe:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",metastring:'title="before.html"',children:'<h1 i18n>Hello World</h1>\n<h1 i18n="other context|another comment@@myId">Some value</h1>\n<img src="..." i18n i18n-title="Wow image" />\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",metastring:'title="after.html"',children:"<h1>{{ 'hello-world' | transloco }}</h1>\n<h1>{{ 'some-value' | transloco }}</h1>\n<img src=\"...\" title=\"{{ 'wow-image' | transloco }}\" />\n"})}),"\n",(0,i.jsx)(n.p,{children:"If you encounter any issues with the migration script please open a Github issue so we can resolve them and make a better experience for all."})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},3023:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>s});var i=t(3696);const a={},r=i.createContext(a);function l(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);